<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ â€“ Ø¨Ø·Ø§Ù‚Ø© ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø·Ø§Ù‚Ø©</title>
  
  <style>
    :root{ --mew-primary:#0aa4b5; --mew-accent:#123e7a; --mew-bg:#f4fbfc; --card:#fff; --text:#0f172a; --muted:#5b6b7b; --radius:18px; --shadow:0 10px 30px rgba(8,56,84,.07); --shadow-soft:0 8px 20px rgba(8,56,84,.06) }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--mew-bg);color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Kufi Arabic","Noto Sans Arabic",Tahoma,Arial,sans-serif}
    a{color:var(--mew-accent);text-decoration:none}
    header{position:sticky;top:0;z-index:30;background:linear-gradient(90deg,var(--mew-primary),var(--mew-accent));color:#fff;box-shadow:var(--shadow)}
    .container{max-width:1120px;margin:auto;padding:16px}
    .topbar{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:12px;background:#fff;display:grid;place-items:center}
    .logo svg{width:28px;height:28px;fill:var(--mew-primary)}
    .title{font-weight:800;font-size:20px}
    nav{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}
    .pill{background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.25);padding:10px 14px;border-radius:999px;color:var(--text);cursor:pointer}
    .pill:hover{background:rgba(255,255,255,.22)}
    main{padding:26px 0}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}
    .card{background:var(--card);border-radius:var(--radius);padding:16px;border:1px solid #e8f0f3;box-shadow:var(--shadow-soft)}
    .card h2{margin:0 0 12px;font-size:22px}
    .field{display:grid;gap:6px;margin-bottom:12px}
    .field label{font-weight:700}
    .field input{padding:12px 12px;border:1px solid #d7e3e9;border-radius:12px;font-size:15px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .btn{display:inline-flex;gap:8px;align-items:center;justify-content:center;padding:12px 16px;border-radius:14px;border:1px solid #e9f3f6;background:#fff;color:var(--mew-accent);box-shadow:var(--shadow-soft);cursor:pointer;font-weight:800}
    .result{display:grid;gap:10px}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #e8eef2;background:#f7fbfd;font-weight:800}
    .rating{font-size:46px;font-weight:900;letter-spacing:1px}
    .rating.good{color:#059669}.rating.mid{color:#d97706}.rating.bad{color:#dc2626}
    .ratingbar{position:relative;margin-top:10px;border-radius:14px;overflow:visible;border:1px solid #e0ebf0;background:#fff;padding:0}
    .ratingbar img.bar{display:block;width:100%;height:auto}
    .ship-pointer{position:absolute;left:88%;transform:translateX(6px) translateY(-50%);width:42px;height:42px;display:grid;place-items:center;pointer-events:none}
    .ship-line{position:absolute;left:88%;width:6px;height:2px;background:#0aa4b5;transform:translateY(-50%);}
    .ship-pointer svg{width:38px;height:38px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.15))}
    .ship-note{margin-top:6px;font-size:12px;color:#6b7f90}
    footer{margin:36px 0 24px;color:#8091a2;font-size:13px;text-align:center}
  </style>

</head>
<body>
  
  <header>
    <div class="container">
      <div class="topbar">
        <div class="logo" aria-label="Ø´Ø¹Ø§Ø±">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l7 4v6c0 5-3.5 9.5-7 10-3.5-.5-7-5-7-10V6l7-4zm0 4l-4 2.3v3.6c0 3.5 2.3 7 4 7s4-3.5 4-7V8.3L12 6z"/></svg>
        </div>
        <div class="title">Ø¨Ø·Ø§Ù‚Ø© ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ù„Ù„Ù…Ø¨Ø§Ù†ÙŠ â€“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ØªØ¬Ø¯Ø¯Ø© Ùˆ ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø·Ø§Ù‚Ø©</div>
      </div>
      <nav>
        <a class="pill" href="index.html">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©ØŸ</a>
        <a class="pill" href="#" style="background:#fff;color:var(--mew-accent);border-color:#fff">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ</a>
        <a class="pill" href="appliance-savings.html">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</a>
        <a class="pill" href="faq.html">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</a>
      </nav>
    </div>
  </header>

  
<main class="container">
  <div class="grid">
    <section class="card">
      <h2>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ù†Ù‰</h2>
      <div class="field"><label for="annual_kwh">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø§Ù„Ø³Ù†ÙˆÙŠ (ÙƒÙŠÙ„ÙˆÙˆØ§Ø·â€‘Ø³Ø§Ø¹Ø©/Ø³Ù†Ø©)</label><input id="annual_kwh" type="text" placeholder="Ù…Ø«Ø§Ù„: 48000"/></div>
      <div class="field"><label for="area">Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© (Ù…ØªØ± Ù…Ø±Ø¨Ø¹)</label><input id="area" type="text" placeholder="Ù…Ø«Ø§Ù„: 240"/></div>
      <div class="row"><button class="btn" id="calc">Ø§Ø­Ø³Ø¨ Ø§Ù„ÙƒØ«Ø§ÙØ© ÙˆØ§Ù„ØªØµÙ†ÙŠÙ</button><button class="btn" id="reset">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button></div>
    </section>

    <section class="card">
      <h2>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
      <div class="result">
        <div class="badge">ÙƒØ«Ø§ÙØ© Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ù†ÙˆÙŠ (EUI): <span id="eui_value" lang="en" style="font-weight:900;margin-inline-start:8px; direction:ltr; unicode-bidi:embed; font-family:Arial, sans-serif;">â€”</span> kWh/Ù…Â²Â·Ø³Ù†Ø©</div>
        <div>Ø§Ù„ØªØµÙ†ÙŠÙ: <span id="rating" class="rating">â€”</span></div>

        <div class="ratingbar" id="ratingbar">
          <img class="bar" src="assets/rating-bar.png" alt="Ø´Ø±ÙŠØ· Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ù…Ù† Ø£ Ø¥Ù„Ù‰ Ø²"/>
          <div class="ship-line" id="shipLine" style="top:50%"></div>
          <div class="ship-pointer" id="ship" style="top:50%;display:none" aria-hidden="true">ğŸš¢</div>
        </div>
        <div class="ship-note">* Ù…Ø¤Ø´Ø± Ø§Ù„Ø³ÙÙŠÙ†Ø© ÙŠØªØ­Ø±Ùƒ Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø´Ø±ÙŠØ· Ù„ÙŠÙˆØ¶Ø­ Ø§Ù„ÙØ¦Ø©.</div>
      </div>
    </section>
  </div>
</main>

<script>
  function toLatinDigits(str){
    if(typeof str !== 'string') str = String(str || '');
    const map = {'Ù ':'0','Ù¡':'1','Ù¢':'2','Ù£':'3','Ù¤':'4','Ù¥':'5','Ù¦':'6','Ù§':'7','Ù¨':'8','Ù©':'9','Û°':'0','Û±':'1','Û²':'2','Û³':'3','Û´':'4','Ûµ':'5','Û¶':'6','Û·':'7','Û¸':'8','Û¹':'9'};
    return str.replace(/[Ù -Ù©Û°-Û¹]/g, d => map[d]).replace(/[,Ù«]/g,'.').replace(/[^\d.\-]/g,'');
  }
  function numVal(el){ return parseFloat(toLatinDigits(el.value)); }

  const shipPosTop = { 'Ø£': 5, 'Ø¨': 19, 'Ø¬': 33, 'Ø¯': 47, 'Ù‡Ù€': 61, 'Ùˆ': 75, 'Ø²': 89 };

  const annualInput = document.getElementById('annual_kwh');
  const areaInput   = document.getElementById('area');
  const calcBtn     = document.getElementById('calc');
  const resetBtn    = document.getElementById('reset');

  const euiValue = document.getElementById('eui_value');
  const ratingEl = document.getElementById('rating');
  const shipEl   = document.getElementById('ship');
  const lineEl   = document.getElementById('shipLine');

  
  function classify(eui){
    const v = eui;
    if (v >= 1  && v <= 20) return 'Ø£';
    if (v >= 21 && v <= 35) return 'Ø¨';
    if (v >= 36 && v <= 50) return 'Ø¬';
    if (v >= 51 && v <= 66) return 'Ø¯';
    if (v >= 67 && v <= 80) return 'Ù‡Ù€';
    if (v >= 81 && v <= 92) return 'Ùˆ';
    if (v >= 93)            return 'Ø²';
    return 'Ø£';
  }
function ratingTone(letter){ if(['Ø£','Ø¨','Ø¬'].includes(letter)) return 'good'; if(['Ø¯','Ù‡Ù€'].includes(letter)) return 'mid'; return 'bad'; }
function format(num){ return new Intl.NumberFormat('en-US', { maximumFractionDigits: 2 }).format(num); }

  function updatePointer(letter){
    const y = shipPosTop[letter] ?? 50;
    shipEl.style.top = y + '%';
    shipEl.style.display = 'block';
    lineEl.style.top = y + '%';
    if(['Ø£','Ø¨'].includes(letter)) lineEl.style.background = '#16a34a';
    else if(['Ø¬','Ø¯','Ù‡Ù€'].includes(letter)) lineEl.style.background = '#f59e0b';
    else lineEl.style.background = '#dc2626';
  }

  calcBtn.addEventListener('click', () => {
    const kwh = numVal(annualInput);
    const area = numVal(areaInput);
    if(!kwh || !area || kwh <= 0 || area <= 0){ alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ… ØµØ­ÙŠØ­Ø© Ù„Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø³Ù†ÙˆÙŠ ÙˆØ§Ù„Ù…Ø³Ø§Ø­Ø©.'); return; }
    const eui = kwh / area;
    const letter = classify(eui);
    euiValue.textContent = format(eui);
    ratingEl.textContent = letter;
    ratingEl.className = 'rating ' + ratingTone(letter);
    updatePointer(letter);
  });

  resetBtn.addEventListener('click', () => {
    annualInput.value = '';
    areaInput.value = '';
    euiValue.textContent = 'â€”';
    ratingEl.textContent = 'â€”';
    ratingEl.className = 'rating';
    shipEl.style.display = 'none';
    lineEl.style.background = '#0aa4b5';
  });
</script>

  <footer>ÙƒÙ„ Ù…Ø¨Ù†Ù‰ Ù„Ù‡ Ø¨ØµÙ…Ø© Ø·Ø§Ù‚Ø©ØŒ Ùˆ Ø®Ø·ÙˆØªÙ†Ø§ ØªØ¨Ø¯Ø£ Ù…Ù† ÙƒÙØ§Ø¡ØªÙ‡</footer>
</body>
</html>
